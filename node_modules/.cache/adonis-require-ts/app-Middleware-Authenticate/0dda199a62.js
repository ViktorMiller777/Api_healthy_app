"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
class Authenticate {
    async handle({ auth, response }, next) {
        try {
            await auth.authenticate();
            await next();
        }
        catch (error) {
            response.unauthorized({ error: 'Usuario no autenticado' });
        }
    }
}
exports.default = Authenticate;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXV0aGVudGljYXRlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiQXV0aGVudGljYXRlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7O0FBSUEsTUFBcUIsWUFBWTtJQUN4QixLQUFLLENBQUMsTUFBTSxDQUFFLEVBQUUsSUFBSSxFQUFFLFFBQVEsRUFBdUIsRUFBRSxJQUF5QjtRQUNyRixJQUFJO1lBQ0YsTUFBTSxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUE7WUFDekIsTUFBTSxJQUFJLEVBQUUsQ0FBQTtTQUNiO1FBQUMsT0FBTyxLQUFLLEVBQUU7WUFDZCxRQUFRLENBQUMsWUFBWSxDQUFDLEVBQUUsS0FBSyxFQUFFLHdCQUF3QixFQUFFLENBQUMsQ0FBQTtTQUMzRDtJQUNILENBQUM7Q0FDRjtBQVRELCtCQVNDIiwic291cmNlc0NvbnRlbnQiOlsiLy8gYXBwL01pZGRsZXdhcmUvQXV0aGVudGljYXRlLnRzXHJcblxyXG5pbXBvcnQgeyBIdHRwQ29udGV4dENvbnRyYWN0IH0gZnJvbSAnQGlvYzpBZG9uaXMvQ29yZS9IdHRwQ29udGV4dCdcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEF1dGhlbnRpY2F0ZSB7XHJcbiAgcHVibGljIGFzeW5jIGhhbmRsZSAoeyBhdXRoLCByZXNwb25zZSB9OiBIdHRwQ29udGV4dENvbnRyYWN0LCBuZXh0OiAoKSA9PiBQcm9taXNlPHZvaWQ+KSB7XHJcbiAgICB0cnkge1xyXG4gICAgICBhd2FpdCBhdXRoLmF1dGhlbnRpY2F0ZSgpXHJcbiAgICAgIGF3YWl0IG5leHQoKVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmVzcG9uc2UudW5hdXRob3JpemVkKHsgZXJyb3I6ICdVc3VhcmlvIG5vIGF1dGVudGljYWRvJyB9KVxyXG4gICAgfVxyXG4gIH1cclxufVxyXG4iXX0=