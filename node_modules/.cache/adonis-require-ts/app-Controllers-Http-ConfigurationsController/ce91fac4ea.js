"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
const Validator_1 = global[Symbol.for('ioc.use')]("Adonis/Core/Validator");
const Configuration_1 = __importDefault(global[Symbol.for('ioc.use')]("App/Models/Configuration"));
class ConfigurationsController {
    async index({ response }) {
        const configuration = await Configuration_1.default.query()
            .preload('user').preload('tipo_configuracion');
        return response.status(200).send({
            "type": "Exitoso",
            "title": "Recursos encontrados",
            "message": "La lista de recursos de configuraciones ha sido encontrada con exito",
            "data": configuration,
        });
    }
    async store({ request, response }) {
        const body = request.all();
        await request.validate({
            schema: Validator_1.schema.create({
                tipo_configuracion_id: Validator_1.schema.number(),
                data: Validator_1.schema.string(),
                user_id: Validator_1.schema.number()
            }),
            messages: {
                'tipo_configuracion_id.required': 'El tipo de configuracion es obligatorio para crear un recurso de configuracion',
                'data.required': 'La descripcion de la configuracion es obligatoria para crear un recurso de configuracion',
                'user_id.required': 'El id de usuario es obligatorio para crear un recurso de configuracion',
                'user_id.number': 'El id de usuario debe ser un numero entero'
            }
        });
        const configuration = new Configuration_1.default();
        try {
            configuration.data = body.data;
            configuration.tipo_configuracion_id = body.tipo_configuracion_id;
            configuration.user_id = body.user_id;
            await configuration.save();
        }
        catch (error) {
            response.internalServerError({
                "type": "Error",
                "title": "Error de sevidor",
                "message": "Hubo un fallo en el servidor durante el registro de los datos",
                "errors": error
            });
            return;
        }
        response.status(201);
        response.send({
            "type": "Exitoso",
            "title": "Recurso creado",
            "message": "El recurso configuracion ha sido creado exitosamente",
            "data": configuration,
        });
    }
    async show({ params, response }) {
        const configuration = await Configuration_1.default.query()
            .where('id', params.id)
            .preload('user').preload('tipo_configuracion')
            .first();
        if (configuration) {
            response.send({
                "type": "Exitoso",
                "title": "Recurso encontrado",
                "message": "El recurso de configuracion ha sido encontrado con exito",
                "data": configuration,
            });
        }
        else {
            response.notFound({
                "type": "Error",
                "title": "Recurso no encontrado",
                "message": "El recurso de configuracion no pudo encontrarse",
                "errors": []
            });
        }
    }
    async update({ params, request, response }) {
        const body = request.all();
        await request.validate({
            schema: Validator_1.schema.create({
                data: Validator_1.schema.string.nullableAndOptional()
            })
        });
        var configuration = await Configuration_1.default.find(params.id);
        if (!configuration) {
            response.notFound({
                "type": "Error",
                "title": "Recurso no encontrado",
                "message": "El recurso de habito no pudo encontrarse",
                "errors": []
            });
            return;
        }
        try {
            if (body.data) {
                configuration.data = body.data;
            }
            configuration.save();
        }
        catch (error) {
            response.internalServerError({
                "type": "Error",
                "title": "Error de sevidor",
                "message": "Hubo un fallo en el servidor durante el registro de los datos",
                "errors": error
            });
            return;
        }
        response.send({
            "type": "Exitoso",
            "title": "Recurso actualizado",
            "message": "El recurso configuracion ha sido actualizado exitosamente",
            "data": configuration,
        });
    }
    async destroy({ params, response }) {
        const configuration = await Configuration_1.default.query().where('id', params.id).first();
        if (configuration) {
            await configuration.delete();
            response.send({
                "type": "Exitoso",
                "title": "Recurso eliminado",
                "message": "El recurso configuracion ha sido eliminado exitosamente",
                "data": configuration,
            });
        }
        else {
            response.notFound({
                "type": "Error",
                "title": "Recurso no encontrado",
                "message": "El recurso de configuracion no pudo encontrarse",
                "errors": []
            });
        }
    }
}
exports.default = ConfigurationsController;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQ29uZmlndXJhdGlvbnNDb250cm9sbGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiQ29uZmlndXJhdGlvbnNDb250cm9sbGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7O0FBQ0EsMkVBQW9EO0FBQ3BELG1HQUFvRDtBQUdwRCxNQUFxQix3QkFBd0I7SUFDcEMsS0FBSyxDQUFDLEtBQUssQ0FBQyxFQUFFLFFBQVEsRUFBdUI7UUFzRGxELE1BQU0sYUFBYSxHQUFHLE1BQU0sdUJBQWEsQ0FBQyxLQUFLLEVBQUU7YUFDOUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxDQUFDLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFBO1FBR2hELE9BQU8sUUFBUSxDQUFDLE1BQU0sQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDL0IsTUFBTSxFQUFFLFNBQVM7WUFDakIsT0FBTyxFQUFFLHNCQUFzQjtZQUMvQixTQUFTLEVBQUUsc0VBQXNFO1lBQ2pGLE1BQU0sRUFBRSxhQUFhO1NBQ3RCLENBQUMsQ0FBQTtJQUNKLENBQUM7SUFFTSxLQUFLLENBQUMsS0FBSyxDQUFDLEVBQUUsT0FBTyxFQUFFLFFBQVEsRUFBdUI7UUFzRjNELE1BQU0sSUFBSSxHQUFHLE9BQU8sQ0FBQyxHQUFHLEVBQUUsQ0FBQTtRQUUxQixNQUFNLE9BQU8sQ0FBQyxRQUFRLENBQUM7WUFDckIsTUFBTSxFQUFFLGtCQUFNLENBQUMsTUFBTSxDQUFDO2dCQUNwQixxQkFBcUIsRUFBRSxrQkFBTSxDQUFDLE1BQU0sRUFBRTtnQkFDdEMsSUFBSSxFQUFFLGtCQUFNLENBQUMsTUFBTSxFQUFFO2dCQUNyQixPQUFPLEVBQUUsa0JBQU0sQ0FBQyxNQUFNLEVBQUU7YUFDekIsQ0FBQztZQUNGLFFBQVEsRUFBRTtnQkFDUixnQ0FBZ0MsRUFBRSxnRkFBZ0Y7Z0JBQ2xILGVBQWUsRUFBRSwwRkFBMEY7Z0JBQzNHLGtCQUFrQixFQUFFLHdFQUF3RTtnQkFDNUYsZ0JBQWdCLEVBQUUs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QUFtQixDQUFDO2dCQUMzQixNQUFNLEVBQUUsT0FBTztnQkFDZixPQUFPLEVBQUUsa0JBQWtCO2dCQUMzQixTQUFTLEVBQUUsK0RBQStEO2dCQUMxRSxRQUFRLEVBQUUsS0FBSzthQUNoQixDQUFDLENBQUE7WUFDRixPQUFNO1NBQ1A7UUFFRCxRQUFRLENBQUMsSUFBSSxDQUFDO1lBQ1osTUFBTSxFQUFFLFNBQVM7WUFDakIsT0FBTyxFQUFFLHFCQUFxQjtZQUM5QixTQUFTLEVBQUUsMkRBQTJEO1lBQ3RFLE1BQU0sRUFBRSxhQUFhO1NBQ3RCLENBQUMsQ0FBQTtJQUVKLENBQUM7SUFFTSxLQUFLLENBQUMsT0FBTyxDQUFDLEVBQUUsTUFBTSxFQUFFLFFBQVEsRUFBdUI7UUErRTVELE1BQU0sYUFBYSxHQUFHLE1BQU0sdUJBQWEsQ0FBQyxLQUFLLEVBQUUsQ0FBQyxLQUFLLENBQUMsSUFBSSxFQUFFLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQyxLQUFLLEVBQUUsQ0FBQTtRQUVoRixJQUFJLGFBQWEsRUFBRTtZQUNqQixNQUFNLGFBQWEsQ0FBQyxNQUFNLEVBQUUsQ0FBQTtZQUU1QixRQUFRLENBQUMsSUFBSSxDQUFDO2dCQUNaLE1BQU0sRUFBRSxTQUFTO2dCQUNqQixPQUFPLEVBQUUsbUJBQW1CO2dCQUM1QixTQUFTLEVBQUUseURBQXlEO2dCQUNwRSxNQUFNLEVBQUUsYUFBYTthQUN0QixDQUFDLENBQUE7U0FDSDthQUNJO1lBQ0gsUUFBUSxDQUFDLFFBQVEsQ0FBQztnQkFDaEIsTUFBTSxFQUFFLE9BQU87Z0JBQ2YsT0FBTyxFQUFFLHVCQUF1QjtnQkFDaEMsU0FBUyxFQUFFLGlEQUFpRDtnQkFDNUQsUUFBUSxFQUFFLEVBQUU7YUFDYixDQUFDLENBQUE7U0FDSDtJQUVILENBQUM7Q0FDRjtBQW5qQkQsMkNBbWpCQyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB0eXBlIHsgSHR0cENvbnRleHRDb250cmFjdCB9IGZyb20gJ0Bpb2M6QWRvbmlzL0NvcmUvSHR0cENvbnRleHQnXHJcbmltcG9ydCB7ICBzY2hlbWEgfSBmcm9tICdAaW9jOkFkb25pcy9Db3JlL1ZhbGlkYXRvcidcclxuaW1wb3J0IENvbmZpZ3VyYXRpb24gZnJvbSAnQXBwL01vZGVscy9Db25maWd1cmF0aW9uJ1xyXG5cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbmZpZ3VyYXRpb25zQ29udHJvbGxlciB7XHJcbiAgcHVibGljIGFzeW5jIGluZGV4KHsgcmVzcG9uc2UgfTogSHR0cENvbnRleHRDb250cmFjdCkge1xyXG4gICAgLyoqXHJcbiAgICAqIEBzd2FnZ2VyXHJcbiAgICAqIC9hcGkvY29uZmlndXJhdGlvbnM6XHJcbiAgICAqICAgZ2V0OlxyXG4gICAgKiAgICAgZGVzY3JpcHRpb246IExpc3RhIGRlIHRvZGFzIGxhcyBjb25maWd1cmFjaW9uZXMgZGUgbG9zIGhhYml0b3MgZW4gZWwgc2lzdGVtYVxyXG4gICAgKiAgICAgdGFnczpcclxuICAgICogICAgICAgLSBDb25maWd1cmF0aW9uc1xyXG4gICAgKiAgICAgc2VjdXJpdHk6XHJcbiAgICAqICAgICAgIC0gYmVhcmVyQXV0aDogW11cclxuICAgICogICAgIHByb2R1Y2VzOlxyXG4gICAgKiAgICAgICAtIGFwcGxpY2F0aW9uL2pzb25cclxuICAgICogICAgIHJlc3BvbnNlczpcclxuICAgICogICAgICAgMjAwOlxyXG4gICAgKiAgICAgICAgIGRlc2NyaXB0aW9uOiBMYSBidXNxdWVkYSBmdWUgZXhpdG9zYVxyXG4gICAgKiAgICAgICAgIGNvbnRlbnQ6XHJcbiAgICAqICAgICAgICAgICBhcHBsaWNhdGlvbi9qc29uOlxyXG4gICAgKiAgICAgICAgICAgICBzY2hlbWE6XHJcbiAgICAqICAgICAgICAgICAgICAgdHlwZTogb2JqZWN0XHJcbiAgICAqICAgICAgICAgICAgICAgcHJvcGVydGllczpcclxuICAgICogICAgICAgICAgICAgICAgIHR5cGU6XHJcbiAgICAqICAgICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgKiAgICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogdGlwbyBkZSByZXNwdWVzdGFcclxuICAgICogICAgICAgICAgICAgICAgIHRpdGxlOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICogICAgICAgICAgICAgICAgICAgZGVzY3JpcGNpb246IHRpdHVsbyBkZSBsYSByZXNwdWVzdGFcclxuICAgICogICAgICAgICAgICAgICAgIG1lc3NhZ2U6XHJcbiAgICAqICAgICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgKiAgICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogbWVuc2FqZSBkZSBsYSByZXNwdWVzdGFcclxuICAgICogICAgICAgICAgICAgICAgIGRhdGE6IFxyXG4gICAgKiAgICAgICAgICAgICAgICAgICB0eXBlOiBvYmplY3RcclxuICAgICogICAgICAgICAgICAgICAgICAgZGVzY3JpcGNpb246IERhdG9zIGRlIGxhIHJlc3B1ZXN0YVxyXG4gICAgKiAgICAgICA1MDA6XHJcbiAgICAqICAgICAgICAgZGVzY3JpcHRpb246IEh1Ym8gdW4gZmFsbG8gZW4gZWwgc2Vydmlkb3IgZHVyYW50ZSBsYSBzb2xpY2l0dWQgXHJcbiAgICAqICAgICAgICAgY29udGVudDpcclxuICAgICogICAgICAgICAgIGFwcGxpY2F0aW9uL2pzb246XHJcbiAgICAqICAgICAgICAgICAgIHNjaGVtYTpcclxuICAgICogICAgICAgICAgICAgICB0eXBlOiBvYmplY3RcclxuICAgICogICAgICAgICAgICAgICBwcm9wZXJ0aWVzOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgdHlwZTpcclxuICAgICogICAgICAgICAgICAgICAgICAgdHlwZTogc3RyaW5nXHJcbiAgICAqICAgICAgICAgICAgICAgICAgIGRlc2NyaXBjaW9uOiB0aXBvIGRlIGVycm9yXHJcbiAgICAqICAgICAgICAgICAgICAgICB0aXRsZTpcclxuICAgICogICAgICAgICAgICAgICAgICAgdHlwZTogc3RyaW5nXHJcbiAgICAqICAgICAgICAgICAgICAgICAgIGRlc2NyaXBjaW9uOiB0aXR1bG8gZGVsIGVycm9yXHJcbiAgICAqICAgICAgICAgICAgICAgICBtZXNzYWdlOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICogICAgICAgICAgICAgICAgICAgZGVzY3JpcGNpb246IG1lbnNhamUgZGVsIGVycm9yXHJcbiAgICAqICAgICAgICAgICAgICAgICBlcnJvcnM6IFxyXG4gICAgKiAgICAgICAgICAgICAgICAgICB0eXBlOiBvYmplY3RcclxuICAgICogICAgICAgICAgICAgICAgICAgZGVzY3JpcGNpb246IERhdG9zIGRlbCBlcnJvciBcclxuICAgICogXHJcbiAgICAqL1xyXG5cclxuICAgIGNvbnN0IGNvbmZpZ3VyYXRpb24gPSBhd2FpdCBDb25maWd1cmF0aW9uLnF1ZXJ5KClcclxuICAgICAgLnByZWxvYWQoJ3VzZXInKS5wcmVsb2FkKCd0aXBvX2NvbmZpZ3VyYWNpb24nKVxyXG5cclxuXHJcbiAgICByZXR1cm4gcmVzcG9uc2Uuc3RhdHVzKDIwMCkuc2VuZCh7XHJcbiAgICAgIFwidHlwZVwiOiBcIkV4aXRvc29cIixcclxuICAgICAgXCJ0aXRsZVwiOiBcIlJlY3Vyc29zIGVuY29udHJhZG9zXCIsXHJcbiAgICAgIFwibWVzc2FnZVwiOiBcIkxhIGxpc3RhIGRlIHJlY3Vyc29zIGRlIGNvbmZpZ3VyYWNpb25lcyBoYSBzaWRvIGVuY29udHJhZGEgY29uIGV4aXRvXCIsXHJcbiAgICAgIFwiZGF0YVwiOiBjb25maWd1cmF0aW9uLFxyXG4gICAgfSlcclxuICB9XHJcblxyXG4gIHB1YmxpYyBhc3luYyBzdG9yZSh7IHJlcXVlc3QsIHJlc3BvbnNlIH06IEh0dHBDb250ZXh0Q29udHJhY3QpIHtcclxuICAgIC8qKlxyXG4gICAgKiBAc3dhZ2dlclxyXG4gICAgKiAvYXBpL2NvbmZpZ3VyYXRpb25zOlxyXG4gICAgKiAgIHBvc3Q6XHJcbiAgICAqICAgICBkZXNjcmlwdGlvbjogQ3JlYSB1biBudWV2byByZWN1cnNvIGRlIGNvbmZpZ3VyYWNpb24gZGUgaGFiaXRvIGVuIGxhIGJhc2UgZGUgZGF0b3MuIFxyXG4gICAgKiAgICAgdGFnczpcclxuICAgICogICAgICAgLSBDb25maWd1cmF0aW9uc1xyXG4gICAgKiAgICAgc2VjdXJpdHk6XHJcbiAgICAqICAgICAgIC0gYmVhcmVyQXV0aDogW11cclxuICAgICogICAgIHByb2R1Y2VzOlxyXG4gICAgKiAgICAgICAtIGFwcGxpY2F0aW9uL2pzb25cclxuICAgICogICAgIHJlcXVlc3RCb2R5OlxyXG4gICAgKiAgICAgICBkZXNjcmlwdGlvbjogSW5ncmVzYSBsb3MgZGF0b3MgYmFzaWNvcyBwYXJhIHVuYSBjb25maWd1cmFjaW9uXHJcbiAgICAqICAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgICAqICAgICAgIGNvbnRlbnQ6XHJcbiAgICAqICAgICAgICAgYXBwbGljYXRpb24vanNvbjpcclxuICAgICogICAgICAgICAgIHNjaGVtYTpcclxuICAgICogICAgICAgICAgICAgdHlwZTogb2JqZWN0XHJcbiAgICAqICAgICAgICAgICAgIHByb3BlcnRpZXM6XHJcbiAgICAqICAgICAgICAgICAgICAgdGlwb19jb25maWd1cmFjaW9uX2lkOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgdHlwZTogbnVtYmVyXHJcbiAgICAqICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogaWQgZGUgdGlwbyBkZSBjb25maWd1cmFjaW9uZXNcclxuICAgICogICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgICAqICAgICAgICAgICAgICAgZGF0YTogXHJcbiAgICAqICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICogICAgICAgICAgICAgICAgIGRlc2NyaXBjaW9uOiBkYXRvIGRlIGxhIGNvbmZpZ3VyYWNpb25cclxuICAgICogICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgICAqICAgICAgICAgICAgICAgdXNlcl9pZDpcclxuICAgICogICAgICAgICAgICAgICAgIHR5cGU6IG51bWJlclxyXG4gICAgKiAgICAgICAgICAgICAgICAgZGVzY3JpcGNpb246IElkIGRlIHVzdWFyaW9cclxuICAgICogICAgICAgICAgICAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgICAqICAgICByZXNwb25zZXM6XHJcbiAgICAqICAgICAgIDIwMTpcclxuICAgICogICAgICAgICBkZXNjcmlwdGlvbjogTGEgY3JlYWNpb24gZGVsIHJlY3Vyc28gZnVlIGV4aXRvc2FcclxuICAgICogICAgICAgICBjb250ZW50OlxyXG4gICAgKiAgICAgICAgICAgYXBwbGljYXRpb24vanNvbjpcclxuICAgICogICAgICAgICAgICAgc2NoZW1hOlxyXG4gICAgKiAgICAgICAgICAgICAgIHR5cGU6IG9iamVjdFxyXG4gICAgKiAgICAgICAgICAgICAgIHByb3BlcnRpZXM6XHJcbiAgICAqICAgICAgICAgICAgICAgICB0eXBlOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICogICAgICAgICAgICAgICAgICAgZGVzY3JpcGNpb246IHRpcG8gZGUgcmVzcHVlc3RhXHJcbiAgICAqICAgICAgICAgICAgICAgICB0aXRsZTpcclxuICAgICogICAgICAgICAgICAgICAgICAgdHlwZTogc3RyaW5nXHJcbiAgICAqICAgICAgICAgICAgICAgICAgIGRlc2NyaXBjaW9uOiB0aXR1bG8gZGUgbGEgcmVzcHVlc3RhXHJcbiAgICAqICAgICAgICAgICAgICAgICBtZXNzYWdlOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICogICAgICAgICAgICAgICAgICAgZGVzY3JpcGNpb246IG1lbnNhamUgZGUgbGEgcmVzcHVlc3RhXHJcbiAgICAqICAgICAgICAgICAgICAgICBkYXRhOiBcclxuICAgICogICAgICAgICAgICAgICAgICAgdHlwZTogb2JqZWN0XHJcbiAgICAqICAgICAgICAgICAgICAgICAgIGRlc2NyaXBjaW9uOiBEYXRvcyBkZSBsYSByZXNwdWVzdGFcclxuICAgICogICAgICAgNDIyOlxyXG4gICAgKiAgICAgICAgIGRlc2NyaXB0aW9uOiBMb3MgZGF0b3MgZW4gZWwgY3VlcnBvIGRlIGxhIHNvbGljaXR1ZCBubyBzb24gcHJvY2VzYWJsZXMgcG9ycXVlIGVsIGZvcm1hdG8gZXMgaW5jb3JyZWN0byBvIGZhbHRhIHVuIGVsZW1lbnRvIGVuIGVsIGN1ZXJwbyBkZSBsYSBzb2xpY2l0dWQgXHJcbiAgICAqICAgICAgICAgY29udGVudDpcclxuICAgICogICAgICAgICAgIGFwcGxpY2F0aW9uL2pzb246XHJcbiAgICAqICAgICAgICAgICAgIHNjaGVtYTpcclxuICAgICogICAgICAgICAgICAgICB0eXBlOiBvYmplY3RcclxuICAgICogICAgICAgICAgICAgICBwcm9wZXJ0aWVzOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgZXJyb3JzOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgICB0eXBlOiBhcnJheVxyXG4gICAgKiAgICAgICAgICAgICAgICAgICBpdGVtczpcclxuICAgICogICAgICAgICAgICAgICAgICAgICB0eXBlOiBvYmplY3RcclxuICAgICogICAgICAgICAgICAgICAgICAgZGVzY3JpcGNpb246IGVycm9yZXMgZW4gbGEgc29saWNpdHVkICAgXHJcbiAgICAqICAgICAgIDUwMDpcclxuICAgICogICAgICAgICBkZXNjcmlwdGlvbjogSHVibyB1biBmYWxsbyBlbiBlbCBzZXJ2aWRvciBkdXJhbnRlIGxhIHNvbGljaXR1ZCBcclxuICAgICogICAgICAgICBjb250ZW50OlxyXG4gICAgKiAgICAgICAgICAgYXBwbGljYXRpb24vanNvbjpcclxuICAgICogICAgICAgICAgICAgc2NoZW1hOlxyXG4gICAgKiAgICAgICAgICAgICAgIHR5cGU6IG9iamVjdFxyXG4gICAgKiAgICAgICAgICAgICAgIHByb3BlcnRpZXM6XHJcbiAgICAqICAgICAgICAgICAgICAgICB0eXBlOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICogICAgICAgICAgICAgICAgICAgZGVzY3JpcGNpb246IHRpcG8gZGUgZXJyb3JcclxuICAgICogICAgICAgICAgICAgICAgIHRpdGxlOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICogICAgICAgICAgICAgICAgICAgZGVzY3JpcGNpb246IHRpdHVsbyBkZWwgZXJyb3JcclxuICAgICogICAgICAgICAgICAgICAgIG1lc3NhZ2U6XHJcbiAgICAqICAgICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgKiAgICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogbWVuc2FqZSBkZWwgZXJyb3JcclxuICAgICogICAgICAgICAgICAgICAgIGVycm9yczogXHJcbiAgICAqICAgICAgICAgICAgICAgICAgIHR5cGU6IG9iamVjdFxyXG4gICAgKiAgICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogRGF0b3MgZGVsIGVycm9yIFxyXG4gICAgKiBcclxuICAgICovXHJcblxyXG4gICAgY29uc3QgYm9keSA9IHJlcXVlc3QuYWxsKClcclxuXHJcbiAgICBhd2FpdCByZXF1ZXN0LnZhbGlkYXRlKHtcclxuICAgICAgc2NoZW1hOiBzY2hlbWEuY3JlYXRlKHtcclxuICAgICAgICB0aXBvX2NvbmZpZ3VyYWNpb25faWQ6IHNjaGVtYS5udW1iZXIoKSxcclxuICAgICAgICBkYXRhOiBzY2hlbWEuc3RyaW5nKCksXHJcbiAgICAgICAgdXNlcl9pZDogc2NoZW1hLm51bWJlcigpXHJcbiAgICAgIH0pLFxyXG4gICAgICBtZXNzYWdlczoge1xyXG4gICAgICAgICd0aXBvX2NvbmZpZ3VyYWNpb25faWQucmVxdWlyZWQnOiAnRWwgdGlwbyBkZSBjb25maWd1cmFjaW9uIGVzIG9ibGlnYXRvcmlvIHBhcmEgY3JlYXIgdW4gcmVjdXJzbyBkZSBjb25maWd1cmFjaW9uJyxcclxuICAgICAgICAnZGF0YS5yZXF1aXJlZCc6ICdMYSBkZXNjcmlwY2lvbiBkZSBsYSBjb25maWd1cmFjaW9uIGVzIG9ibGlnYXRvcmlhIHBhcmEgY3JlYXIgdW4gcmVjdXJzbyBkZSBjb25maWd1cmFjaW9uJyxcclxuICAgICAgICAndXNlcl9pZC5yZXF1aXJlZCc6ICdFbCBpZCBkZSB1c3VhcmlvIGVzIG9ibGlnYXRvcmlvIHBhcmEgY3JlYXIgdW4gcmVjdXJzbyBkZSBjb25maWd1cmFjaW9uJyxcclxuICAgICAgICAndXNlcl9pZC5udW1iZXInOiAnRWwgaWQgZGUgdXN1YXJpbyBkZWJlIHNlciB1biBudW1lcm8gZW50ZXJvJ1xyXG4gICAgICB9XHJcbiAgICB9KVxyXG5cclxuICAgIGNvbnN0IGNvbmZpZ3VyYXRpb24gPSBuZXcgQ29uZmlndXJhdGlvbigpXHJcbiAgICB0cnkge1xyXG5cclxuICAgICAgY29uZmlndXJhdGlvbi5kYXRhID0gYm9keS5kYXRhXHJcbiAgICAgIGNvbmZpZ3VyYXRpb24udGlwb19jb25maWd1cmFjaW9uX2lkID0gYm9keS50aXBvX2NvbmZpZ3VyYWNpb25faWRcclxuICAgICAgY29uZmlndXJhdGlvbi51c2VyX2lkID0gYm9keS51c2VyX2lkXHJcbiAgICAgIGF3YWl0IGNvbmZpZ3VyYXRpb24uc2F2ZSgpXHJcbiAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICByZXNwb25zZS5pbnRlcm5hbFNlcnZlckVycm9yKHtcclxuICAgICAgICBcInR5cGVcIjogXCJFcnJvclwiLFxyXG4gICAgICAgIFwidGl0bGVcIjogXCJFcnJvciBkZSBzZXZpZG9yXCIsXHJcbiAgICAgICAgXCJtZXNzYWdlXCI6IFwiSHVibyB1biBmYWxsbyBlbiBlbCBzZXJ2aWRvciBkdXJhbnRlIGVsIHJlZ2lzdHJvIGRlIGxvcyBkYXRvc1wiLFxyXG4gICAgICAgIFwiZXJyb3JzXCI6IGVycm9yXHJcbiAgICAgIH0pXHJcbiAgICAgIHJldHVyblxyXG4gICAgfVxyXG5cclxuICAgIHJlc3BvbnNlLnN0YXR1cygyMDEpXHJcbiAgICByZXNwb25zZS5zZW5kKHtcclxuICAgICAgXCJ0eXBlXCI6IFwiRXhpdG9zb1wiLFxyXG4gICAgICBcInRpdGxlXCI6IFwiUmVjdXJzbyBjcmVhZG9cIixcclxuICAgICAgXCJtZXNzYWdlXCI6IFwiRWwgcmVjdXJzbyBjb25maWd1cmFjaW9uIGhhIHNpZG8gY3JlYWRvIGV4aXRvc2FtZW50ZVwiLFxyXG4gICAgICBcImRhdGFcIjogY29uZmlndXJhdGlvbixcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgc2hvdyh7IHBhcmFtcywgcmVzcG9uc2UgfTogSHR0cENvbnRleHRDb250cmFjdCkge1xyXG4gICAgLyoqXHJcbiAgICAqIEBzd2FnZ2VyXHJcbiAgICAqIC9hcGkvY29uZmlndXJhdGlvbnMve2lkfTpcclxuICAgICogICBnZXQ6XHJcbiAgICAqICAgICBkZXNjcmlwdGlvbjogTXVlc3RyYSB1bmEgY29uZmlndXJhY2lvbiBlc3BlY2lmaWNhIGlkZW50aWZpY2FkYSBwb3IgZWwgbnVtZXJvIGlkIHF1ZSBzZSBwYXNhIGNvbW8gcGFyYW1ldHJvLlxyXG4gICAgKiAgICAgdGFnczpcclxuICAgICogICAgICAgLSBDb25maWd1cmF0aW9uc1xyXG4gICAgKiAgICAgc2VjdXJpdHk6XHJcbiAgICAqICAgICAgIC0gYmVhcmVyQXV0aDogW11cclxuICAgICogICAgIHByb2R1Y2VzOlxyXG4gICAgKiAgICAgICAtIGFwcGxpY2F0aW9uL2pzb25cclxuICAgICogICAgIHBhcmFtZXRlcnM6XHJcbiAgICAqICAgICAgIC0gaW46IHBhdGhcclxuICAgICogICAgICAgICBuYW1lOiBpZFxyXG4gICAgKiAgICAgICAgIHNjaGVtYTpcclxuICAgICogICAgICAgICAgIHR5cGU6IG51bWJlclxyXG4gICAgKiAgICAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgICAqICAgICAgICAgZGVzY3JpcHRpb246IElkIGRlIGNvbmZpZ3VyYWNpb24gcXVlIHNlIHZhIGEgbW9zdHJhclxyXG4gICAgKiAgICAgcmVzcG9uc2VzOlxyXG4gICAgKiAgICAgICAyMDA6XHJcbiAgICAqICAgICAgICAgZGVzY3JpcHRpb246IExhIGJ1c3F1ZWRhIGZ1ZSBleGl0b3NhXHJcbiAgICAqICAgICAgICAgY29udGVudDpcclxuICAgICogICAgICAgICAgIGFwcGxpY2F0aW9uL2pzb246XHJcbiAgICAqICAgICAgICAgICAgIHNjaGVtYTpcclxuICAgICogICAgICAgICAgICAgICB0eXBlOiBvYmplY3RcclxuICAgICogICAgICAgICAgICAgICBwcm9wZXJ0aWVzOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgdHlwZTpcclxuICAgICogICAgICAgICAgICAgICAgICAgdHlwZTogc3RyaW5nXHJcbiAgICAqICAgICAgICAgICAgICAgICAgIGRlc2NyaXBjaW9uOiB0aXBvIGRlIHJlc3B1ZXN0YVxyXG4gICAgKiAgICAgICAgICAgICAgICAgdGl0bGU6XHJcbiAgICAqICAgICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgKiAgICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogdGl0dWxvIGRlIGxhIHJlc3B1ZXN0YVxyXG4gICAgKiAgICAgICAgICAgICAgICAgbWVzc2FnZTpcclxuICAgICogICAgICAgICAgICAgICAgICAgdHlwZTogc3RyaW5nXHJcbiAgICAqICAgICAgICAgICAgICAgICAgIGRlc2NyaXBjaW9uOiBtZW5zYWplIGRlIGxhIHJlc3B1ZXN0YVxyXG4gICAgKiAgICAgICAgICAgICAgICAgZGF0YTogXHJcbiAgICAqICAgICAgICAgICAgICAgICAgIHR5cGU6IG9iamVjdFxyXG4gICAgKiAgICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogRGF0b3MgZGUgbGEgcmVzcHVlc3RhXHJcbiAgICAqICAgICAgIDQwNDpcclxuICAgICogICAgICAgICBkZXNjcmlwdGlvbjogTm8gc2UgcHVkbyBlbmNvbnRyYXIgZWwgcmVjdXJzbyBcclxuICAgICogICAgICAgICBjb250ZW50OlxyXG4gICAgKiAgICAgICAgICAgYXBwbGljYXRpb24vanNvbjpcclxuICAgICogICAgICAgICAgICAgc2NoZW1hOlxyXG4gICAgKiAgICAgICAgICAgICAgIHR5cGU6IG9iamVjdFxyXG4gICAgKiAgICAgICAgICAgICAgIHByb3BlcnRpZXM6XHJcbiAgICAqICAgICAgICAgICAgICAgICB0eXBlOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICogICAgICAgICAgICAgICAgICAgZGVzY3JpcGNpb246IHRpcG8gZGUgZXJyb3JcclxuICAgICogICAgICAgICAgICAgICAgIHRpdGxlOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICogICAgICAgICAgICAgICAgICAgZGVzY3JpcGNpb246IHRpdHVsbyBkZWwgZXJyb3JcclxuICAgICogICAgICAgICAgICAgICAgIG1lc3NhZ2U6XHJcbiAgICAqICAgICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgKiAgICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogbWVuc2FqZSBkZWwgZXJyb3JcclxuICAgICogICAgICAgICAgICAgICAgIGVycm9yczogXHJcbiAgICAqICAgICAgICAgICAgICAgICAgIHR5cGU6IG9iamVjdFxyXG4gICAgKiAgICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogRGF0b3MgZGVsIGVycm9yICAgXHJcbiAgICAqICAgICAgIDUwMDpcclxuICAgICogICAgICAgICBkZXNjcmlwdGlvbjogSHVibyB1biBmYWxsbyBlbiBlbCBzZXJ2aWRvciBkdXJhbnRlIGxhIHNvbGljaXR1ZCBcclxuICAgICogICAgICAgICBjb250ZW50OlxyXG4gICAgKiAgICAgICAgICAgYXBwbGljYXRpb24vanNvbjpcclxuICAgICogICAgICAgICAgICAgc2NoZW1hOlxyXG4gICAgKiAgICAgICAgICAgICAgIHR5cGU6IG9iamVjdFxyXG4gICAgKiAgICAgICAgICAgICAgIHByb3BlcnRpZXM6XHJcbiAgICAqICAgICAgICAgICAgICAgICB0eXBlOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICogICAgICAgICAgICAgICAgICAgZGVzY3JpcGNpb246IHRpcG8gZGUgZXJyb3JcclxuICAgICogICAgICAgICAgICAgICAgIHRpdGxlOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICogICAgICAgICAgICAgICAgICAgZGVzY3JpcGNpb246IHRpdHVsbyBkZWwgZXJyb3JcclxuICAgICogICAgICAgICAgICAgICAgIG1lc3NhZ2U6XHJcbiAgICAqICAgICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgKiAgICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogbWVuc2FqZSBkZWwgZXJyb3JcclxuICAgICogICAgICAgICAgICAgICAgIGVycm9yczogXHJcbiAgICAqICAgICAgICAgICAgICAgICAgIHR5cGU6IG9iamVjdFxyXG4gICAgKiAgICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogRGF0b3MgZGVsIGVycm9yIFxyXG4gICAgKiBcclxuICAgICovXHJcbiAgICBjb25zdCBjb25maWd1cmF0aW9uID0gYXdhaXQgQ29uZmlndXJhdGlvbi5xdWVyeSgpXHJcbiAgICAgIC53aGVyZSgnaWQnLCBwYXJhbXMuaWQpXHJcbiAgICAgIC5wcmVsb2FkKCd1c2VyJykucHJlbG9hZCgndGlwb19jb25maWd1cmFjaW9uJylcclxuICAgICAgLmZpcnN0KClcclxuICAgIGlmIChjb25maWd1cmF0aW9uKSB7XHJcbiAgICAgIHJlc3BvbnNlLnNlbmQoe1xyXG4gICAgICAgIFwidHlwZVwiOiBcIkV4aXRvc29cIixcclxuICAgICAgICBcInRpdGxlXCI6IFwiUmVjdXJzbyBlbmNvbnRyYWRvXCIsXHJcbiAgICAgICAgXCJtZXNzYWdlXCI6IFwiRWwgcmVjdXJzbyBkZSBjb25maWd1cmFjaW9uIGhhIHNpZG8gZW5jb250cmFkbyBjb24gZXhpdG9cIixcclxuICAgICAgICBcImRhdGFcIjogY29uZmlndXJhdGlvbixcclxuICAgICAgfSlcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICByZXNwb25zZS5ub3RGb3VuZCh7XHJcbiAgICAgICAgXCJ0eXBlXCI6IFwiRXJyb3JcIixcclxuICAgICAgICBcInRpdGxlXCI6IFwiUmVjdXJzbyBubyBlbmNvbnRyYWRvXCIsXHJcbiAgICAgICAgXCJtZXNzYWdlXCI6IFwiRWwgcmVjdXJzbyBkZSBjb25maWd1cmFjaW9uIG5vIHB1ZG8gZW5jb250cmFyc2VcIixcclxuICAgICAgICBcImVycm9yc1wiOiBbXVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcHVibGljIGFzeW5jIHVwZGF0ZSh7IHBhcmFtcywgcmVxdWVzdCwgcmVzcG9uc2UgfTogSHR0cENvbnRleHRDb250cmFjdCkge1xyXG4gICAgLyoqXHJcbiAgICAqIEBzd2FnZ2VyXHJcbiAgICAqIC9hcGkvY29uZmlndXJhdGlvbnMve2lkfTpcclxuICAgICogICBwdXQ6XHJcbiAgICAqICAgICBkZXNjcmlwdGlvbjogQWN0dWFsaXphIGVsIHJlY3Vyc28gZGUgY29uZmlndXJhY2lvbiwgc2UgcHVlZGVuIGFjdHVhbGl6YXIgbG9zIGRhdG9zIHF1ZSBzZSBuZWNlc2l0ZW4uXHJcbiAgICAqICAgICB0YWdzOlxyXG4gICAgKiAgICAgICAtIENvbmZpZ3VyYXRpb25zXHJcbiAgICAqICAgICBzZWN1cml0eTpcclxuICAgICogICAgICAgLSBiZWFyZXJBdXRoOiBbXVxyXG4gICAgKiAgICAgcHJvZHVjZXM6XHJcbiAgICAqICAgICAgIC0gYXBwbGljYXRpb24vanNvblxyXG4gICAgKiAgICAgcmVxdWVzdEJvZHk6XHJcbiAgICAqICAgICAgIGRlc2NyaXB0aW9uOiBTZSBwdWVkZW4gY2FtYmlhciBsb3MgZGF0b3MgcXVlIHNlYW4gbmVjZXNhcmlvc1xyXG4gICAgKiAgICAgICByZXF1aXJlZDogdHJ1ZVxyXG4gICAgKiAgICAgICBjb250ZW50OlxyXG4gICAgKiAgICAgICAgIGFwcGxpY2F0aW9uL2pzb246XHJcbiAgICAqICAgICAgICAgICBzY2hlbWE6XHJcbiAgICAqICAgICAgICAgICAgIHR5cGU6IG9iamVjdFxyXG4gICAgKiAgICAgICAgICAgICBwcm9wZXJ0aWVzOlxyXG4gICAgKiAgICAgICAgICAgICAgIGRhdGE6IFxyXG4gICAgKiAgICAgICAgICAgICAgICAgdHlwZTogc3RyaW5nXHJcbiAgICAqICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogZGF0byBkZSBsYSBjb25maWd1cmFjaW9uXHJcbiAgICAqICAgICAgICAgICAgICAgICByZXF1aXJlZDogZmFsc2VcclxuICAgICogICAgIHBhcmFtZXRlcnM6XHJcbiAgICAqICAgICAgIC0gaW46IHBhdGhcclxuICAgICogICAgICAgICBuYW1lOiBpZFxyXG4gICAgKiAgICAgICAgIHNjaGVtYTpcclxuICAgICogICAgICAgICAgIHR5cGU6IG51bWJlclxyXG4gICAgKiAgICAgICAgIHJlcXVpcmVkOiB0cnVlXHJcbiAgICAqICAgICAgICAgZGVzY3JpcHRpb246IElkIGRlIGNvbmZpZ3VyYWNpb24gcXVlIHNlIHZhIGEgYWN0dWFsaXphclxyXG4gICAgKiAgICAgcmVzcG9uc2VzOlxyXG4gICAgKiAgICAgICAyMDA6XHJcbiAgICAqICAgICAgICAgZGVzY3JpcHRpb246IExhIGFjdHVhbGl6YWNpb24gZGVsIHJlY3Vyc28gZnVlIGV4aXRvc2FcclxuICAgICogICAgICAgICBjb250ZW50OlxyXG4gICAgKiAgICAgICAgICAgYXBwbGljYXRpb24vanNvbjpcclxuICAgICogICAgICAgICAgICAgc2NoZW1hOlxyXG4gICAgKiAgICAgICAgICAgICAgIHR5cGU6IG9iamVjdFxyXG4gICAgKiAgICAgICAgICAgICAgIHByb3BlcnRpZXM6XHJcbiAgICAqICAgICAgICAgICAgICAgICB0eXBlOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICogICAgICAgICAgICAgICAgICAgZGVzY3JpcGNpb246IHRpcG8gZGUgcmVzcHVlc3RhXHJcbiAgICAqICAgICAgICAgICAgICAgICB0aXRsZTpcclxuICAgICogICAgICAgICAgICAgICAgICAgdHlwZTogc3RyaW5nXHJcbiAgICAqICAgICAgICAgICAgICAgICAgIGRlc2NyaXBjaW9uOiB0aXR1bG8gZGUgbGEgcmVzcHVlc3RhXHJcbiAgICAqICAgICAgICAgICAgICAgICBtZXNzYWdlOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICogICAgICAgICAgICAgICAgICAgZGVzY3JpcGNpb246IG1lbnNhamUgZGUgbGEgcmVzcHVlc3RhXHJcbiAgICAqICAgICAgICAgICAgICAgICBkYXRhOiBcclxuICAgICogICAgICAgICAgICAgICAgICAgdHlwZTogb2JqZWN0XHJcbiAgICAqICAgICAgICAgICAgICAgICAgIGRlc2NyaXBjaW9uOiBEYXRvcyBkZSBsYSByZXNwdWVzdGFcclxuICAgICogICAgICAgNDIyOlxyXG4gICAgKiAgICAgICAgIGRlc2NyaXB0aW9uOiBMb3MgZGF0b3MgZW4gZWwgY3VlcnBvIGRlIGxhIHNvbGljaXR1ZCBubyBzb24gcHJvY2VzYWJsZXMgcG9ycXVlIGVsIGZvcm1hdG8gZXMgaW5jb3JyZWN0byBvIGZhbHRhIHVuIGVsZW1lbnRvIGVuIGVsIGN1ZXJwbyBkZSBsYSBzb2xpY2l0dWQgXHJcbiAgICAqICAgICAgICAgY29udGVudDpcclxuICAgICogICAgICAgICAgIGFwcGxpY2F0aW9uL2pzb246XHJcbiAgICAqICAgICAgICAgICAgIHNjaGVtYTpcclxuICAgICogICAgICAgICAgICAgICB0eXBlOiBvYmplY3RcclxuICAgICogICAgICAgICAgICAgICBwcm9wZXJ0aWVzOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgZXJyb3JzOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgICB0eXBlOiBhcnJheVxyXG4gICAgKiAgICAgICAgICAgICAgICAgICBpdGVtczpcclxuICAgICogICAgICAgICAgICAgICAgICAgICB0eXBlOiBvYmplY3RcclxuICAgICogICAgICAgICAgICAgICAgICAgZGVzY3JpcGNpb246IGVycm9yZXMgZW4gbGEgc29saWNpdHVkICBcclxuICAgICogICAgICAgNDAwOlxyXG4gICAgKiAgICAgICAgIGRlc2NyaXB0aW9uOiBMb3MgZGF0b3MgZW4gZWwgY3VlcnBvIGRlIGxhIHNvbGljaXR1ZCBubyBlc3RhbiBiaWVuIGZvcm11bGFkb3MsIHBvciB1biB0aXBvIGRlIGRhdG8gaW5jb3JyZWN0byBcclxuICAgICogICAgICAgICBjb250ZW50OlxyXG4gICAgKiAgICAgICAgICAgYXBwbGljYXRpb24vanNvbjpcclxuICAgICogICAgICAgICAgICAgc2NoZW1hOlxyXG4gICAgKiAgICAgICAgICAgICAgIHR5cGU6IG9iamVjdFxyXG4gICAgKiAgICAgICAgICAgICAgIHByb3BlcnRpZXM6XHJcbiAgICAqICAgICAgICAgICAgICAgICB0eXBlOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICogICAgICAgICAgICAgICAgICAgZGVzY3JpcGNpb246IHRpcG8gZGUgZXJyb3JcclxuICAgICogICAgICAgICAgICAgICAgIHRpdGxlOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICogICAgICAgICAgICAgICAgICAgZGVzY3JpcGNpb246IHRpdHVsbyBkZWwgZXJyb3JcclxuICAgICogICAgICAgICAgICAgICAgIG1lc3NhZ2U6XHJcbiAgICAqICAgICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgKiAgICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogbWVuc2FqZSBkZWwgZXJyb3JcclxuICAgICogICAgICAgICAgICAgICAgIGVycm9yczogXHJcbiAgICAqICAgICAgICAgICAgICAgICAgIHR5cGU6IG9iamVjdFxyXG4gICAgKiAgICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogRGF0b3MgZGVsIGVycm9yICBcclxuICAgICogICAgICAgNDA0OlxyXG4gICAgKiAgICAgICAgIGRlc2NyaXB0aW9uOiBObyBzZSBwdWRvIGVuY29udHJhciBlbCByZWN1cnNvIGRlIGhhYml0byBwYXJhIHN1IGFjdHVhbGl6YWNpb25cclxuICAgICogICAgICAgICBjb250ZW50OlxyXG4gICAgKiAgICAgICAgICAgYXBwbGljYXRpb24vanNvbjpcclxuICAgICogICAgICAgICAgICAgc2NoZW1hOlxyXG4gICAgKiAgICAgICAgICAgICAgIHR5cGU6IG9iamVjdFxyXG4gICAgKiAgICAgICAgICAgICAgIHByb3BlcnRpZXM6XHJcbiAgICAqICAgICAgICAgICAgICAgICB0eXBlOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICogICAgICAgICAgICAgICAgICAgZGVzY3JpcGNpb246IHRpcG8gZGUgZXJyb3JcclxuICAgICogICAgICAgICAgICAgICAgIHRpdGxlOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICogICAgICAgICAgICAgICAgICAgZGVzY3JpcGNpb246IHRpdHVsbyBkZWwgZXJyb3JcclxuICAgICogICAgICAgICAgICAgICAgIG1lc3NhZ2U6XHJcbiAgICAqICAgICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgKiAgICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogbWVuc2FqZSBkZWwgZXJyb3JcclxuICAgICogICAgICAgICAgICAgICAgIGVycm9yczogXHJcbiAgICAqICAgICAgICAgICAgICAgICAgIHR5cGU6IG9iamVjdFxyXG4gICAgKiAgICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogRGF0b3MgZGVsIGVycm9yICAgXHJcbiAgICAqICAgICAgIDUwMDpcclxuICAgICogICAgICAgICBkZXNjcmlwdGlvbjogSHVibyB1biBmYWxsbyBlbiBlbCBzZXJ2aWRvciBkdXJhbnRlIGxhIHNvbGljaXR1ZCBcclxuICAgICogICAgICAgICBjb250ZW50OlxyXG4gICAgKiAgICAgICAgICAgYXBwbGljYXRpb24vanNvbjpcclxuICAgICogICAgICAgICAgICAgc2NoZW1hOlxyXG4gICAgKiAgICAgICAgICAgICAgIHR5cGU6IG9iamVjdFxyXG4gICAgKiAgICAgICAgICAgICAgIHByb3BlcnRpZXM6XHJcbiAgICAqICAgICAgICAgICAgICAgICB0eXBlOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICogICAgICAgICAgICAgICAgICAgZGVzY3JpcGNpb246IHRpcG8gZGUgZXJyb3JcclxuICAgICogICAgICAgICAgICAgICAgIHRpdGxlOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgICB0eXBlOiBzdHJpbmdcclxuICAgICogICAgICAgICAgICAgICAgICAgZGVzY3JpcGNpb246IHRpdHVsbyBkZWwgZXJyb3JcclxuICAgICogICAgICAgICAgICAgICAgIG1lc3NhZ2U6XHJcbiAgICAqICAgICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgKiAgICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogbWVuc2FqZSBkZWwgZXJyb3JcclxuICAgICogICAgICAgICAgICAgICAgIGVycm9yczogXHJcbiAgICAqICAgICAgICAgICAgICAgICAgIHR5cGU6IG9iamVjdFxyXG4gICAgKiAgICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogRGF0b3MgZGVsIGVycm9yIFxyXG4gICAgKiBcclxuICAgICovXHJcblxyXG4gICAgY29uc3QgYm9keSA9IHJlcXVlc3QuYWxsKClcclxuXHJcbiAgICBhd2FpdCByZXF1ZXN0LnZhbGlkYXRlKHtcclxuICAgICAgc2NoZW1hOiBzY2hlbWEuY3JlYXRlKHtcclxuICAgICAgICBkYXRhOiBzY2hlbWEuc3RyaW5nLm51bGxhYmxlQW5kT3B0aW9uYWwoKVxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuXHJcbiAgICB2YXIgY29uZmlndXJhdGlvbiA9IGF3YWl0IENvbmZpZ3VyYXRpb24uZmluZChwYXJhbXMuaWQpXHJcbiAgICBpZiAoIWNvbmZpZ3VyYXRpb24pIHtcclxuICAgICAgcmVzcG9uc2Uubm90Rm91bmQoe1xyXG4gICAgICAgIFwidHlwZVwiOiBcIkVycm9yXCIsXHJcbiAgICAgICAgXCJ0aXRsZVwiOiBcIlJlY3Vyc28gbm8gZW5jb250cmFkb1wiLFxyXG4gICAgICAgIFwibWVzc2FnZVwiOiBcIkVsIHJlY3Vyc28gZGUgaGFiaXRvIG5vIHB1ZG8gZW5jb250cmFyc2VcIixcclxuICAgICAgICBcImVycm9yc1wiOiBbXVxyXG4gICAgICB9KVxyXG4gICAgICByZXR1cm5cclxuICAgIH1cclxuXHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoYm9keS5kYXRhKSB7XHJcbiAgICAgICAgY29uZmlndXJhdGlvbi5kYXRhID0gYm9keS5kYXRhXHJcbiAgICAgIH1cclxuICAgICAgY29uZmlndXJhdGlvbi5zYXZlKClcclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIHJlc3BvbnNlLmludGVybmFsU2VydmVyRXJyb3Ioe1xyXG4gICAgICAgIFwidHlwZVwiOiBcIkVycm9yXCIsXHJcbiAgICAgICAgXCJ0aXRsZVwiOiBcIkVycm9yIGRlIHNldmlkb3JcIixcclxuICAgICAgICBcIm1lc3NhZ2VcIjogXCJIdWJvIHVuIGZhbGxvIGVuIGVsIHNlcnZpZG9yIGR1cmFudGUgZWwgcmVnaXN0cm8gZGUgbG9zIGRhdG9zXCIsXHJcbiAgICAgICAgXCJlcnJvcnNcIjogZXJyb3JcclxuICAgICAgfSlcclxuICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgcmVzcG9uc2Uuc2VuZCh7XHJcbiAgICAgIFwidHlwZVwiOiBcIkV4aXRvc29cIixcclxuICAgICAgXCJ0aXRsZVwiOiBcIlJlY3Vyc28gYWN0dWFsaXphZG9cIixcclxuICAgICAgXCJtZXNzYWdlXCI6IFwiRWwgcmVjdXJzbyBjb25maWd1cmFjaW9uIGhhIHNpZG8gYWN0dWFsaXphZG8gZXhpdG9zYW1lbnRlXCIsXHJcbiAgICAgIFwiZGF0YVwiOiBjb25maWd1cmF0aW9uLFxyXG4gICAgfSlcclxuXHJcbiAgfVxyXG5cclxuICBwdWJsaWMgYXN5bmMgZGVzdHJveSh7IHBhcmFtcywgcmVzcG9uc2UgfTogSHR0cENvbnRleHRDb250cmFjdCkge1xyXG4gICAgLyoqXHJcbiAgICAqIEBzd2FnZ2VyXHJcbiAgICAqIC9hcGkvY29uZmlndXJhdGlvbnMve2lkfTpcclxuICAgICogICBkZWxldGU6XHJcbiAgICAqICAgICBkZXNjcmlwdGlvbjogRWxpbWluYSBkZSBsYSBiYXNlIGRlIGRhdG9zIGxhIGNvbmZpZ3VyYWNpb24gaWRlbnRpZmljYWRhIHBvciBlbCBudW1lcm8gaWQgaW5kaWNhZG8uXHJcbiAgICAqICAgICB0YWdzOlxyXG4gICAgKiAgICAgICAtIENvbmZpZ3VyYXRpb25zXHJcbiAgICAqICAgICBzZWN1cml0eTpcclxuICAgICogICAgICAgLSBiZWFyZXJBdXRoOiBbXVxyXG4gICAgKiAgICAgcHJvZHVjZXM6XHJcbiAgICAqICAgICAgIC0gYXBwbGljYXRpb24vanNvblxyXG4gICAgKiAgICAgcGFyYW1ldGVyczpcclxuICAgICogICAgICAgLSBpbjogcGF0aFxyXG4gICAgKiAgICAgICAgIG5hbWU6IGlkXHJcbiAgICAqICAgICAgICAgc2NoZW1hOlxyXG4gICAgKiAgICAgICAgICAgdHlwZTogbnVtYmVyXHJcbiAgICAqICAgICAgICAgcmVxdWlyZWQ6IHRydWVcclxuICAgICogICAgICAgICBkZXNjcmlwdGlvbjogSWQgZGUgY29uZmlndXJhY2lvbiBxdWUgc2UgdmEgYSBlbGltaW5hclxyXG4gICAgKiAgICAgcmVzcG9uc2VzOlxyXG4gICAgKiAgICAgICAyMDA6XHJcbiAgICAqICAgICAgICAgZGVzY3JpcHRpb246IExhIGVsaW1pbmFjaW9uIGZ1ZSBleGl0b3NhXHJcbiAgICAqICAgICAgICAgY29udGVudDpcclxuICAgICogICAgICAgICAgIGFwcGxpY2F0aW9uL2pzb246XHJcbiAgICAqICAgICAgICAgICAgIHNjaGVtYTpcclxuICAgICogICAgICAgICAgICAgICB0eXBlOiBvYmplY3RcclxuICAgICogICAgICAgICAgICAgICBwcm9wZXJ0aWVzOlxyXG4gICAgKiAgICAgICAgICAgICAgICAgdHlwZTpcclxuICAgICogICAgICAgICAgICAgICAgICAgdHlwZTogc3RyaW5nXHJcbiAgICAqICAgICAgICAgICAgICAgICAgIGRlc2NyaXBjaW9uOiB0aXBvIGRlIHJlc3B1ZXN0YVxyXG4gICAgKiAgICAgICAgICAgICAgICAgdGl0bGU6XHJcbiAgICAqICAgICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgKiAgICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogdGl0dWxvIGRlIGxhIHJlc3B1ZXN0YVxyXG4gICAgKiAgICAgICAgICAgICAgICAgbWVzc2FnZTpcclxuICAgICogICAgICAgICAgICAgICAgICAgdHlwZTogc3RyaW5nXHJcbiAgICAqICAgICAgICAgICAgICAgICAgIGRlc2NyaXBjaW9uOiBtZW5zYWplIGRlIGxhIHJlc3B1ZXN0YVxyXG4gICAgKiAgICAgICAgICAgICAgICAgZGF0YTogXHJcbiAgICAqICAgICAgICAgICAgICAgICAgIHR5cGU6IG9iamVjdFxyXG4gICAgKiAgICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogRGF0b3MgZGUgbGEgcmVzcHVlc3RhXHJcbiAgICAqICAgICAgIDQwNDpcclxuICAgICogICAgICAgICBkZXNjcmlwdGlvbjogTm8gc2UgcHVkbyBlbmNvbnRyYXIgZWwgcmVjdXJzbyBkZSBoYWJpdG8gcGFyYSBzdSBlbGltaW5hY2lvblxyXG4gICAgKiAgICAgICAgIGNvbnRlbnQ6XHJcbiAgICAqICAgICAgICAgICBhcHBsaWNhdGlvbi9qc29uOlxyXG4gICAgKiAgICAgICAgICAgICBzY2hlbWE6XHJcbiAgICAqICAgICAgICAgICAgICAgdHlwZTogb2JqZWN0XHJcbiAgICAqICAgICAgICAgICAgICAgcHJvcGVydGllczpcclxuICAgICogICAgICAgICAgICAgICAgIHR5cGU6XHJcbiAgICAqICAgICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgKiAgICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogdGlwbyBkZSBlcnJvclxyXG4gICAgKiAgICAgICAgICAgICAgICAgdGl0bGU6XHJcbiAgICAqICAgICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgKiAgICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogdGl0dWxvIGRlbCBlcnJvclxyXG4gICAgKiAgICAgICAgICAgICAgICAgbWVzc2FnZTpcclxuICAgICogICAgICAgICAgICAgICAgICAgdHlwZTogc3RyaW5nXHJcbiAgICAqICAgICAgICAgICAgICAgICAgIGRlc2NyaXBjaW9uOiBtZW5zYWplIGRlbCBlcnJvclxyXG4gICAgKiAgICAgICAgICAgICAgICAgZXJyb3JzOiBcclxuICAgICogICAgICAgICAgICAgICAgICAgdHlwZTogb2JqZWN0XHJcbiAgICAqICAgICAgICAgICAgICAgICAgIGRlc2NyaXBjaW9uOiBEYXRvcyBkZWwgZXJyb3IgICBcclxuICAgICogICAgICAgNTAwOlxyXG4gICAgKiAgICAgICAgIGRlc2NyaXB0aW9uOiBIdWJvIHVuIGZhbGxvIGVuIGVsIHNlcnZpZG9yIGR1cmFudGUgbGEgc29saWNpdHVkIFxyXG4gICAgKiAgICAgICAgIGNvbnRlbnQ6XHJcbiAgICAqICAgICAgICAgICBhcHBsaWNhdGlvbi9qc29uOlxyXG4gICAgKiAgICAgICAgICAgICBzY2hlbWE6XHJcbiAgICAqICAgICAgICAgICAgICAgdHlwZTogb2JqZWN0XHJcbiAgICAqICAgICAgICAgICAgICAgcHJvcGVydGllczpcclxuICAgICogICAgICAgICAgICAgICAgIHR5cGU6XHJcbiAgICAqICAgICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgKiAgICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogdGlwbyBkZSBlcnJvclxyXG4gICAgKiAgICAgICAgICAgICAgICAgdGl0bGU6XHJcbiAgICAqICAgICAgICAgICAgICAgICAgIHR5cGU6IHN0cmluZ1xyXG4gICAgKiAgICAgICAgICAgICAgICAgICBkZXNjcmlwY2lvbjogdGl0dWxvIGRlbCBlcnJvclxyXG4gICAgKiAgICAgICAgICAgICAgICAgbWVzc2FnZTpcclxuICAgICogICAgICAgICAgICAgICAgICAgdHlwZTogc3RyaW5nXHJcbiAgICAqICAgICAgICAgICAgICAgICAgIGRlc2NyaXBjaW9uOiBtZW5zYWplIGRlbCBlcnJvclxyXG4gICAgKiAgICAgICAgICAgICAgICAgZXJyb3JzOiBcclxuICAgICogICAgICAgICAgICAgICAgICAgdHlwZTogb2JqZWN0XHJcbiAgICAqICAgICAgICAgICAgICAgICAgIGRlc2NyaXBjaW9uOiBEYXRvcyBkZWwgZXJyb3IgXHJcbiAgICAqIFxyXG4gICAgKi9cclxuICAgIGNvbnN0IGNvbmZpZ3VyYXRpb24gPSBhd2FpdCBDb25maWd1cmF0aW9uLnF1ZXJ5KCkud2hlcmUoJ2lkJywgcGFyYW1zLmlkKS5maXJzdCgpXHJcblxyXG4gICAgaWYgKGNvbmZpZ3VyYXRpb24pIHtcclxuICAgICAgYXdhaXQgY29uZmlndXJhdGlvbi5kZWxldGUoKVxyXG5cclxuICAgICAgcmVzcG9uc2Uuc2VuZCh7XHJcbiAgICAgICAgXCJ0eXBlXCI6IFwiRXhpdG9zb1wiLFxyXG4gICAgICAgIFwidGl0bGVcIjogXCJSZWN1cnNvIGVsaW1pbmFkb1wiLFxyXG4gICAgICAgIFwibWVzc2FnZVwiOiBcIkVsIHJlY3Vyc28gY29uZmlndXJhY2lvbiBoYSBzaWRvIGVsaW1pbmFkbyBleGl0b3NhbWVudGVcIixcclxuICAgICAgICBcImRhdGFcIjogY29uZmlndXJhdGlvbixcclxuICAgICAgfSlcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICByZXNwb25zZS5ub3RGb3VuZCh7XHJcbiAgICAgICAgXCJ0eXBlXCI6IFwiRXJyb3JcIixcclxuICAgICAgICBcInRpdGxlXCI6IFwiUmVjdXJzbyBubyBlbmNvbnRyYWRvXCIsXHJcbiAgICAgICAgXCJtZXNzYWdlXCI6IFwiRWwgcmVjdXJzbyBkZSBjb25maWd1cmFjaW9uIG5vIHB1ZG8gZW5jb250cmFyc2VcIixcclxuICAgICAgICBcImVycm9yc1wiOiBbXVxyXG4gICAgICB9KVxyXG4gICAgfVxyXG5cclxuICB9XHJcbn1cclxuIl19